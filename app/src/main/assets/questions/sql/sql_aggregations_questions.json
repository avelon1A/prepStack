{
  "topicId": "sql_aggregations",
  "questions": [
    {"id": "sql_agg_theory_1", "questionText": "What are SQL aggregate functions?", "type": "THEORY", "correctAnswer": "SQL aggregate functions perform calculations on sets of values and return a single value. Common aggregate functions include COUNT(), SUM(), AVG(), MAX(), and MIN().", "explanation": "Aggregate functions are essential for summarizing data in SQL and are often used with the GROUP BY clause to generate reports and statistics.", "difficulty": "EASY"},
    
    {"id": "sql_agg_theory_2", "questionText": "Explain the purpose of the GROUP BY clause.", "type": "THEORY", "correctAnswer": "The GROUP BY clause groups rows that have the same values in specified columns into summary rows. It is typically used with aggregate functions to perform calculations on each group of rows.", "explanation": "Without GROUP BY, aggregate functions apply to the entire result set. With GROUP BY, aggregates apply separately to each group created by the grouping criteria.", "codeExample": "SELECT department_id, COUNT(*) as employee_count, AVG(salary) as avg_salary\nFROM employees\nGROUP BY department_id;", "difficulty": "MEDIUM"},
    
    {"id": "sql_agg_theory_3", "questionText": "What is the HAVING clause and how does it differ from WHERE?", "type": "THEORY", "correctAnswer": "The HAVING clause filters groups based on a condition, while the WHERE clause filters individual rows before grouping. HAVING is applied after GROUP BY, while WHERE is applied before GROUP BY.", "explanation": "HAVING is used to filter groups created by GROUP BY. It's especially useful when you need to filter based on the result of aggregate functions, which cannot be done with WHERE.", "codeExample": "SELECT department_id, COUNT(*) as employee_count\nFROM employees\nWHERE hire_date > '2020-01-01'\nGROUP BY department_id\nHAVING COUNT(*) > 5;", "difficulty": "MEDIUM"},
    
    {"id": "sql_agg_theory_4", "questionText": "What does the COUNT() function do and what variations exist?", "type": "THEORY", "correctAnswer": "COUNT() counts the number of rows. COUNT(*) counts all rows including NULL values. COUNT(column) counts non-NULL values in the specified column. COUNT(DISTINCT column) counts unique non-NULL values.", "explanation": "COUNT is one of the most commonly used aggregate functions. The different variations allow for flexibility in counting rows based on specific requirements.", "codeExample": "-- Count all rows\nSELECT COUNT(*) FROM employees;\n\n-- Count non-NULL values in a column\nSELECT COUNT(email) FROM employees;\n\n-- Count distinct values\nSELECT COUNT(DISTINCT department_id) FROM employees;", "difficulty": "MEDIUM"},
    
    {"id": "sql_agg_theory_5", "questionText": "What is the ORDER BY clause used for with aggregations?", "type": "THEORY", "correctAnswer": "The ORDER BY clause sorts the result set based on specified columns. When used with aggregations, it can sort by the results of aggregate functions or by grouping columns.", "explanation": "ORDER BY comes after GROUP BY and HAVING, allowing you to sort your grouped and filtered results. This is useful for presentations, reporting, and data analysis.", "codeExample": "SELECT department_id, COUNT(*) as employee_count, AVG(salary) as avg_salary\nFROM employees\nGROUP BY department_id\nHAVING COUNT(*) > 5\nORDER BY avg_salary DESC;", "difficulty": "EASY"}
  ]
}